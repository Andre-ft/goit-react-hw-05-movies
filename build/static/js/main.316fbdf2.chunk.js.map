{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Navigation/Navigation.module.css","components/MovieDetailsPage/MovieDetailsPage.module.css","components/Cast/Cast.module.css","components/AppBar/Appbar.module.css","components/Container/Container.module.css","components/PageHeading/PageHeading.module.css","components/MoviesPage/MoviesPage.module.css","components/Navigation/Navigation.js","components/AppBar/AppBar.js","components/Container/Container.js","components/PageHeading/PageHeading.js","services/movie-api.js","views/HomePage.js","components/Cast/Cast.js","components/Reviews/Reviews.js","components/MovieDetailsPage/MovieDetailsPage.js","components/Searchbar/Searchbar.jsx","components/MoviesList/MoviesList.js","components/MoviesPage/MoviesPage.js","views/NotFoundView.js","App.js","index.js"],"names":["module","exports","Navigation","exact","to","className","styles","link","activeClassName","activeLink","Appbar","header","Container","children","container","PageHeading","text","title","API_KEY","BASE_URL","fetchWithErrorHandling","a","url","config","fetch","response","ok","json","Promise","reject","Error","HomePage","useState","trendingMovies","settrendingMovies","useRouteMatch","location","useLocation","useEffect","then","res","results","map","movie","pathname","id","state","from","label","Cast","movieId","castArray","setCastArray","bookShelfAPI","cast","console","log","info","name","s","img_block","src","profile_path","alt","img","character","Reviews","reviews","setReviews","length","review","author","content","created_at","MovieDetailsPage","useParams","setMovie","path","history","useHistory","type","onClick","push","poster_path","inner_block","vote_average","overview","genres","genre","Searchbar","onSubmit","query","setQuery","event","preventDefault","trim","toast","error","SearchForm","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","MoviesList","list","defaultProps","MoviesPage","setList","getQueryFromSearchParams","URLSearchParams","search","get","page","moviesAPI","style","maxWidth","margin","newQuery","autoClose","NotFoundView","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.316fbdf2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3aBQ8\",\"SearchForm\":\"Searchbar_SearchForm__t5Z3s\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1j47W\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3o230\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3qVNL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__aeEpH\",\"activeLink\":\"Navigation_activeLink__2-4Wx Navigation_link__aeEpH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__10BCA\",\"inner_block\":\"MovieDetailsPage_inner_block__2jIA6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img_block\":\"Cast_img_block__2HKIH\",\"img\":\"Cast_img__FTYA-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Appbar_header__2Ii1U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__FULKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"PageHeading_title__2E7r2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MoviesPage\":\"MoviesPage_MoviesPage__3_xj_\"};","import { NavLink, Link } from \"react-router-dom\";\nimport styles from \"./Navigation.module.css\";\n\nconst Navigation = () => (\n  <nav>\n    <NavLink\n      exact\n      to=\"/\"\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Home\n    </NavLink>\n    <NavLink\n      exact\n      to=\"/movies\"\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Movies\n    </NavLink>\n\n    {/* <NavLink\n      to=\"/authors\"\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Authors\n    </NavLink>\n    <NavLink\n      to=\"/books\"\n      className={styles.link}\n      activeClassName={styles.activeLink}\n    >\n      Books\n    </NavLink> */}\n  </nav>\n);\n\n// const Navigation = () => (\n//   <nav>\n//     <NavLink\n//       exact\n//       to=\"/\"\n//       className={styles.link}\n//       activeClassName={styles.activeLink}\n//     >\n//       Главная\n//     </NavLink>\n\n//     <NavLink\n//       to=\"/authors\"\n//       className={styles.link}\n//       activeClassName={styles.activeLink}\n//     >\n//       Авторы\n//     </NavLink>\n\n//     <NavLink\n//       to=\"/books\"\n//       className={styles.link}\n//       activeClassName={styles.activeLink}\n//     >\n//       Книги\n//     </NavLink>\n//   </nav>\n// );\n\nexport default Navigation;\n","import Navigation from '../Navigation/Navigation';\nimport styles from './Appbar.module.css';\n\nexport default function Appbar() {\n  return (\n    <header className={styles.header}>\n      <Navigation />\n    </header>\n  );\n}\n","import styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import styles from './PageHeading.module.css';\n\nexport default function PageHeading({ text }) {\n  return <h1 className={styles.title}>{text}</h1>;\n}\n","// const BASE_URL = 'http://localhost:4040';\nconst API_KEY = \"9f0e1a5db1805e19173b01041df22dc3\";\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\n\nasync function fetchWithErrorHandling(url = \"\", config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(\"Not found\"));\n}\n\nexport function fetchCast(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchTrendingMovies() {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMovieById(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchReviews(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n}\n\nexport function fetchMoviesByQuery(query, page = 1) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}search/movie?query=${query}&page=${page}&api_key=${API_KEY}`\n  );\n}\n","import PageHeading from \"../components/PageHeading/PageHeading\";\nimport { useEffect, useState } from \"react\";\nimport * as movieApi from \"../services/movie-api\";\nimport {\n  NavLink,\n  Link,\n  Route,\n  useRouteMatch,\n  useLocation,\n} from \"react-router-dom\";\n\nexport default function HomePage() {\n  const [trendingMovies, settrendingMovies] = useState(null);\n  const { url } = useRouteMatch(); //используется для динамического определения текущего url\n  const location = useLocation();\n\n  useEffect(() => {\n    movieApi.fetchTrendingMovies().then((res) => {\n      // console.log(\"fetchTrendingMovies\", res.results);\n      settrendingMovies(res.results);\n    });\n  }, []);\n\n  return (\n    <>\n      <PageHeading text=\"Trending today\" />\n\n      {trendingMovies && (\n        <ul>\n          {trendingMovies.map((movie) => (\n            <li key={movie.id}>\n              <Link\n                to={{\n                  pathname: `${url}movies/${movie.id}`,\n                  state: {\n                    from: { location, label: \"Back to Trendings today\" },\n                  },\n                }}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n","import { useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as bookShelfAPI from \"../../services/movie-api\";\r\nimport s from \"./Cast.module.css\";\r\n\r\n// import { Link } from \"react-router-dom\";\r\n\r\nexport default function Cast({ movieId }) {\r\n  //   const { authorId } = useParams();\r\n  //   const author = authors.find((author) => author.id === Number(authorId));\r\n  const IMG_URL = \"https://image.tmdb.org/t/p/w300\";\r\n\r\n  const [castArray, setCastArray] = useState(null);\r\n\r\n  useEffect(() => {\r\n    bookShelfAPI.fetchCast(movieId).then((res) => setCastArray(res.cast));\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {console.log(\"castArray\", castArray)}\r\n      {castArray && (\r\n        <ul>\r\n          {castArray.map((info) => (\r\n            <li key={info.id}>\r\n              <h3>{info.name}</h3>\r\n              <div className={s.img_block}>\r\n                <img\r\n                  src={`${IMG_URL}${info.profile_path}`}\r\n                  alt={info.name}\r\n                  className={s.img}\r\n                />\r\n              </div>\r\n              <p>Character: {info.character}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as bookShelfAPI from \"../../services/movie-api\";\r\nimport s from \"./Reviews.module.css\";\r\n\r\n// import { Link } from \"react-router-dom\";\r\n\r\nexport default function Reviews({ movieId }) {\r\n  //   const { authorId } = useParams();\r\n  //   const author = authors.find((author) => author.id === Number(authorId));\r\n  const IMG_URL = \"https://image.tmdb.org/t/p/w300\";\r\n\r\n  const [reviews, setReviews] = useState(null);\r\n\r\n  useEffect(() => {\r\n    bookShelfAPI.fetchReviews(movieId).then((res) => setReviews(res.results));\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {console.log(\"reviews\", reviews)}\r\n      {reviews && reviews.length > 0 && (\r\n        <ul>\r\n          {reviews.map((review) => (\r\n            <li key={review.created_at}>\r\n              <h3>{review.author}</h3>\r\n              <p>{review.content}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      {reviews && reviews.length === 0 && (\r\n        <p>We don't have any reviews for this movie</p>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport {\r\n  NavLink,\r\n  Route,\r\n  useParams,\r\n  useRouteMatch,\r\n  useHistory,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\nimport PageHeading from \"../PageHeading/PageHeading\";\r\nimport * as bookShelfAPI from \"../../services/movie-api\";\r\nimport s from \"./MovieDetailsPage.module.css\";\r\nimport Cast from \"../Cast/Cast\";\r\nimport Reviews from \"../Reviews/Reviews\";\r\n\r\nexport default function MovieDetailsPage() {\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const { url, path } = useRouteMatch();\r\n  //   const BASE_URL = \"https://api.themoviedb.org/3\";\r\n  const IMG_URL = \"https://image.tmdb.org/t/p/w300\";\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    bookShelfAPI.fetchMovieById(movieId).then(setMovie);\r\n    console.log(\"history\", history);\r\n    console.log(\"location\", location);\r\n  }, [movieId]);\r\n\r\n  const onGoBack = () => {\r\n    history.push(location?.state?.from?.location ?? \"/movies\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* <PageHeading text={`Movie ${movieId}`} /> */}\r\n      {/* {console.log(movie)} */}\r\n\r\n      {movie && (\r\n        <>\r\n          <button type=\"button\" onClick={onGoBack}>\r\n            {location?.state?.from?.label ?? \"Go Back\"}\r\n          </button>\r\n\r\n          <div className={s.container}>\r\n            <img src={`${IMG_URL}${movie.poster_path}`} alt={movie.title} />\r\n            <div className={s.inner_block}>\r\n              <h2>{movie.title}</h2>\r\n              <p>User Score: {movie.vote_average * 10}%</p>\r\n              <h2>Overview</h2>\r\n              <div>{movie.overview}</div>\r\n              <h2>Genres</h2>\r\n              <div>{movie.genres.map((genre) => `${genre.name} `)}</div>\r\n            </div>\r\n          </div>\r\n\r\n          <hr />\r\n\r\n          <NavLink to={`${url}/cast`}>Cast</NavLink>\r\n          <br />\r\n          <NavLink to={`${url}/reviews`}>Reviews</NavLink>\r\n\r\n          <hr />\r\n        </>\r\n      )}\r\n\r\n      <Route path={`${path}/cast`}>\r\n        <Cast movieId={movieId} />\r\n      </Route>\r\n\r\n      <Route path={`${path}/reviews`}>\r\n        <Reviews movieId={movieId} />\r\n      </Route>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\n// class Searchbar extends Component {\nfunction Searchbar({onSubmit}){\n  const [query, setQuery] = useState('');\n\n  const handleQueryChange = event => {\n    setQuery(event.currentTarget.value.toLowerCase() );\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (query.trim() === '') {\n      toast.error('Input query.');\n      return;\n    }\n\n    onSubmit(query);\n    // setQuery('');\n  };\n\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            value={query}\n            onChange={handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n}\n\nexport default Searchbar;\n\nSearchbar.defaultProps = {\n  onSubmit: () => null,\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import {\r\n  NavLink,\r\n  Link,\r\n  Route,\r\n  useRouteMatch,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\n\r\nexport default function MoviesList({ list }) {\r\n  const { url } = useRouteMatch(); //используется для динамического определения текущего url\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <ul>\r\n      {list.map((movie) => (\r\n        <li key={movie.id}>\r\n          <Link\r\n            to={{\r\n              pathname: `${url}/${movie.id}`,\r\n              state: { from: { location, label: \"Back to Movies search\" } },\r\n            }}\r\n          >\r\n            {movie.title}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import s from \"./MoviesPage.module.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Searchbar from \"../Searchbar\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n// import \"react-toastify/dist/ReactToastify.css\";\r\nimport MoviesList from \"../MoviesList/MoviesList\";\r\nimport * as moviesAPI from \"../../services/movie-api\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nfunction MoviesPage() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [list, setList] = useState(null);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const getQueryFromSearchParams =\r\n    new URLSearchParams(location.search).get(\"query\") ?? \"\";\r\n\r\n  const handleFormSubmit = (newQuery) => {\r\n    // console.log(query);\r\n    setQuery(newQuery);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setQuery(getQueryFromSearchParams);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"query\", query);\r\n    if (query.trim() === \"\") return;\r\n    moviesAPI.fetchMoviesByQuery(query).then((res) => setList(res.results));\r\n    history.push({ ...location, search: `query=${query}` });\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"list\", list);\r\n  }, [list]);\r\n\r\n  return (\r\n    <div className={s.MoviesPage} style={{ maxWidth: 1170, margin: \"0 auto\" }}>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      {list && <MoviesList list={list} />}\r\n      {/* <ImageGallery query={query} getImageURL={getActiveImageURL} /> */}\r\n      {/* {activeImageURL && (\r\n        <Modal onClose={toggleModal} imageURL={activeImageURL}>\r\n          <img src={activeImageURL} alt={query} />\r\n        </Modal>\r\n      )} */}\r\n\r\n      <ToastContainer autoClose={3000} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MoviesPage;\r\n","export default function NotFoundView() {\n  return <h1>404 Страница не найдена :(</h1>;\n}\n","import { Switch, Route } from \"react-router-dom\";\nimport AppBar from \"./components/AppBar/AppBar\";\nimport Container from \"./components/Container/Container\";\nimport HomePage from \"./views/HomePage\";\nimport MovieDetailsPage from \"./components/MovieDetailsPage/MovieDetailsPage\";\nimport MoviesPage from \"./components/MoviesPage/MoviesPage\";\n// import AuthorsView from './views/AuthorsView';\n// import BooksView from './views/BooksView';\n// import BookDetailsView from './views/BookDetailsView';\nimport NotFoundView from \"./views/NotFoundView\";\n\nexport default function App() {\n  return (\n    <Container>\n      <AppBar />\n\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n\n        <Route path=\"/movies/:movieId\">\n          <MovieDetailsPage />\n        </Route>\n\n        <Route path=\"/movies\" exact>\n          <MoviesPage />\n        </Route>\n\n        {/* <Route path=\"/authors\">\n          <AuthorsView />\n        </Route>\n\n        <Route path=\"/books\" exact>\n          <BooksView />\n        </Route>\n\n        <Route path=\"/books/:bookId\">\n          <BookDetailsView />\n        </Route> */}\n        <Route>\n          <NotFoundView />\n        </Route>\n      </Switch>\n    </Container>\n  );\n}\n\n// export default function App() {\n//   return (\n//     <Container>\n//       <AppBar />\n\n//       <Switch>\n//         <Route path=\"/\" exact>\n//           <HomeView />\n//         </Route>\n\n//         <Route path=\"/authors\">\n//           <AuthorsView />\n//         </Route>\n\n//         <Route path=\"/books\" exact>\n//           <BooksView />\n//         </Route>\n\n//         <Route path=\"/books/:bookId\">\n//           <BookDetailsView />\n//         </Route>\n\n//         <Route>\n//           <NotFoundView />\n//         </Route>\n//       </Switch>\n//     </Container>\n//   );\n// }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}